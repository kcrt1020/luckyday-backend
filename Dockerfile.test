FROM openjdk:17-bullseye  # ✅ Debian 기반 이미지 사용 (apt-get 포함됨)
WORKDIR /app

# ✅ 패키지 매니저 업데이트 및 xargs(findutils) 설치
RUN apt-get update && apt-get install -y findutils

# ✅ Gradle Wrapper & 프로젝트 전체 복사
COPY . .

# ✅ 실행 권한 추가 (gradlew 실행 가능하도록)
RUN chmod +x gradlew

# ✅ 컨테이너 내부에서 테스트 실행
CMD ["./gradlew", "test"]
