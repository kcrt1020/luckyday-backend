# ✅ 패키지 관리자가 있는 OpenJDK 버전 사용
FROM openjdk:17-slim
WORKDIR /app

# ✅ 패키지 매니저 업데이트 및 xargs 설치 (Alpine 리눅스일 경우 apk 사용)
RUN apt-get update && apt-get install -y findutils || apk add --no-cache findutils

# ✅ Gradle Wrapper & 프로젝트 전체 복사
COPY . .

# ✅ 실행 권한 추가 (gradlew 실행 가능하도록)
RUN chmod +x gradlew

# ✅ 컨테이너 내부에서 테스트 실행
CMD ["./gradlew", "test"]
