FROM openjdk:17
WORKDIR /app

# ✅ 필수 유틸리티(xargs) 설치
RUN apt-get update && apt-get install -y findutils

# ✅ Gradle Wrapper & 프로젝트 전체 복사
COPY . .

# ✅ 실행 권한 추가 (gradlew 실행 가능하도록)
RUN chmod +x gradlew

# ✅ 컨테이너 내부에서 테스트 실행
CMD ["./gradlew", "test"]
